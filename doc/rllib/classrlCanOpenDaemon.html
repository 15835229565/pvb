<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>rllib: rlCanOpenDaemon Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>rlCanOpenDaemon Class Reference</h1><!-- doxytag: class="rlCanOpenDaemon" -->
<p>canopen tcp/ip interface for concurrent device-access of multiple clientprocesses  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="rlcanopendaemon_8h_source.html">rlcanopendaemon.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for rlCanOpenDaemon:</div>
<div class="dynsection">
<div class="center"><img src="classrlCanOpenDaemon__coll__graph.png" border="0" usemap="#rlCanOpenDaemon_coll__map" alt="Collaboration graph"/></div>
<map name="rlCanOpenDaemon_coll__map" id="rlCanOpenDaemon_coll__map">
<area shape="rect" href="classrlThread.html" title="rlThread" alt="" coords="77,187,144,213"/><area shape="rect" href="structTHREAD__PARAM.html" title="THREAD_PARAM" alt="" coords="13,277,141,304"/><area shape="rect" href="structWSEMAPHORE.html" title="WSEMAPHORE" alt="" coords="5,96,123,123"/><area shape="rect" href="structpthread__attr__t.html" title="pthread_attr_t" alt="" coords="147,96,248,123"/><area shape="rect" href="struct____sched__param.html" title="__sched_param" alt="" coords="141,5,253,32"/><area shape="rect" href="classrlCanOpen.html" title="main class which provides canopen API functions and manages all nodes." alt="" coords="239,187,321,213"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classrlCanOpenDaemon-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrlCanOpenDaemon.html#ac2778e06f3691ca0d69ec5752a1c4b19">rlCanOpenDaemon</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">empty constructor initializes on port 5000.  <a href="#ac2778e06f3691ca0d69ec5752a1c4b19"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrlCanOpenDaemon.html#afbe38aa1b1594879788682f68c00bac4">rlCanOpenDaemon</a> (int _port, char *_iniFileName=0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">main constructor sets port and inifilename.  <a href="#afbe38aa1b1594879788682f68c00bac4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrlCanOpenDaemon.html#acf51a4cb7266ce822efdb114433af3b3">~rlCanOpenDaemon</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrlCanOpenDaemon.html#a2700fe9d6dbf7950319ef744b391a527">getPort</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrlCanOpenDaemon.html#a57f09b176603b4043f5c28a631e06654">start</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">runs service in endless loop  <a href="#a57f09b176603b4043f5c28a631e06654"></a><br/></td></tr>
<tr><td colspan="2"><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrlCanOpen.html">rlCanOpen</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrlCanOpenDaemon.html#ad32a3078d59a83504a752ced7bf9642c">nodes</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrlThread.html">rlThread</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrlCanOpenDaemon.html#a0ba207ed336015b1ec56340aa1ffebce">daemon_thread</a></td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrlCanOpenDaemon.html#a6d0c85ba05b0f0005fc7038a093325f9">port</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>canopen tcp/ip interface for concurrent device-access of multiple clientprocesses </p>
<p>this is a multi threaded server process, which listens on a tcp port for incomming connections. It runs the only recommended instance of rlcanopen class for beeing the very only process accessing the device. Different processes who concurrently try to access the device will be queued autmaticly by daemonprocess. These processes are inteded to communicate through rlcanopenclient. </p>

<p>Definition at line <a class="el" href="rlcanopendaemon_8h_source.html#l00051">51</a> of file <a class="el" href="rlcanopendaemon_8h_source.html">rlcanopendaemon.h</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac2778e06f3691ca0d69ec5752a1c4b19"></a><!-- doxytag: member="rlCanOpenDaemon::rlCanOpenDaemon" ref="ac2778e06f3691ca0d69ec5752a1c4b19" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rlCanOpenDaemon::rlCanOpenDaemon </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>empty constructor initializes on port 5000. </p>
<p>empty constructor initializes on port 5000. creates a new <a class="el" href="classrlCanOpen.html" title="main class which provides canopen API functions and manages all nodes.">rlCanOpen</a> Object which performs all access to canopen device </p>

<p>Definition at line <a class="el" href="rlcanopendaemon_8cpp_source.html#l00253">253</a> of file <a class="el" href="rlcanopendaemon_8cpp_source.html">rlcanopendaemon.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00253"></a>00253                                 {
<a name="l00254"></a>00254   <a class="code" href="classrlCanOpenDaemon.html#ad32a3078d59a83504a752ced7bf9642c">nodes</a> = <span class="keyword">new</span> <a class="code" href="classrlCanOpen.html" title="main class which provides canopen API functions and manages all nodes.">rlCanOpen</a>();
<a name="l00255"></a>00255   <a class="code" href="classrlCanOpenDaemon.html#a6d0c85ba05b0f0005fc7038a093325f9">port</a> = 5000;
<a name="l00256"></a>00256 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="afbe38aa1b1594879788682f68c00bac4"></a><!-- doxytag: member="rlCanOpenDaemon::rlCanOpenDaemon" ref="afbe38aa1b1594879788682f68c00bac4" args="(int _port, char *_iniFileName=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rlCanOpenDaemon::rlCanOpenDaemon </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>_iniFileName</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>main constructor sets port and inifilename. </p>
<p>main constructor sets port and inifilename. creates a new <a class="el" href="classrlCanOpen.html" title="main class which provides canopen API functions and manages all nodes.">rlCanOpen</a> Object which performs all access to canopen device </p>

<p>Definition at line <a class="el" href="rlcanopendaemon_8cpp_source.html#l00259">259</a> of file <a class="el" href="rlcanopendaemon_8cpp_source.html">rlcanopendaemon.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00259"></a>00259                                                              {
<a name="l00260"></a>00260   <span class="keywordflow">if</span> (_iniFileName!=0){
<a name="l00261"></a>00261     <a class="code" href="classrlCanOpenDaemon.html#ad32a3078d59a83504a752ced7bf9642c">nodes</a> = <span class="keyword">new</span> <a class="code" href="classrlCanOpen.html" title="main class which provides canopen API functions and manages all nodes.">rlCanOpen</a>(_iniFileName);
<a name="l00262"></a>00262   }
<a name="l00263"></a>00263   <span class="keywordflow">else</span>{
<a name="l00264"></a>00264     <a class="code" href="classrlCanOpenDaemon.html#ad32a3078d59a83504a752ced7bf9642c">nodes</a> = <span class="keyword">new</span> <a class="code" href="classrlCanOpen.html" title="main class which provides canopen API functions and manages all nodes.">rlCanOpen</a>();
<a name="l00265"></a>00265   }
<a name="l00266"></a>00266   <a class="code" href="classrlCanOpenDaemon.html#a6d0c85ba05b0f0005fc7038a093325f9">port</a> = _port;
<a name="l00267"></a>00267   
<a name="l00268"></a>00268         
<a name="l00269"></a>00269 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acf51a4cb7266ce822efdb114433af3b3"></a><!-- doxytag: member="rlCanOpenDaemon::~rlCanOpenDaemon" ref="acf51a4cb7266ce822efdb114433af3b3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rlCanOpenDaemon::~rlCanOpenDaemon </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>destructor destroys rlcanopen object </p>

<p>Definition at line <a class="el" href="rlcanopendaemon_8cpp_source.html#l00272">272</a> of file <a class="el" href="rlcanopendaemon_8cpp_source.html">rlcanopendaemon.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00272"></a>00272                                  {
<a name="l00273"></a>00273   <a class="code" href="rlcutil_8cpp.html#a5380bd2e87ffcf0c8a24c387b0ac7b7b">rlDebugPrintf</a>(<span class="stringliteral">&quot;destruktor rlCanOpenDaemon\n&quot;</span>);
<a name="l00274"></a>00274   <span class="keywordflow">if</span> (<a class="code" href="classrlCanOpenDaemon.html#ad32a3078d59a83504a752ced7bf9642c">nodes</a>!=0){
<a name="l00275"></a>00275     <span class="keyword">delete</span> <a class="code" href="classrlCanOpenDaemon.html#ad32a3078d59a83504a752ced7bf9642c">nodes</a>;
<a name="l00276"></a>00276   }
<a name="l00277"></a>00277 }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a2700fe9d6dbf7950319ef744b391a527"></a><!-- doxytag: member="rlCanOpenDaemon::getPort" ref="a2700fe9d6dbf7950319ef744b391a527" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rlCanOpenDaemon::getPort </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>returns value of current port </p>

<p>Definition at line <a class="el" href="rlcanopendaemon_8cpp_source.html#l00280">280</a> of file <a class="el" href="rlcanopendaemon_8cpp_source.html">rlcanopendaemon.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00280"></a>00280                             {
<a name="l00281"></a>00281   <span class="keywordflow">return</span> <a class="code" href="classrlCanOpenDaemon.html#a6d0c85ba05b0f0005fc7038a093325f9">port</a>;
<a name="l00282"></a>00282 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a57f09b176603b4043f5c28a631e06654"></a><!-- doxytag: member="rlCanOpenDaemon::start" ref="a57f09b176603b4043f5c28a631e06654" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rlCanOpenDaemon::start </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>runs service in endless loop </p>
<p>daemon creates a listener thread which handels incoming connections by himself creating clientconnection threads for each client connecting to the daemon. </p>

<p>Definition at line <a class="el" href="rlcanopendaemon_8cpp_source.html#l00288">288</a> of file <a class="el" href="rlcanopendaemon_8cpp_source.html">rlcanopendaemon.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00288"></a>00288                            {
<a name="l00289"></a>00289   <a class="code" href="classrlCanOpenDaemon.html#a0ba207ed336015b1ec56340aa1ffebce">daemon_thread</a>.<a class="code" href="classrlThread.html#a2e26bec1d1bc3bc35a3c8a1c9930f2fb">create</a>(<a class="code" href="rlcanopendaemon_8cpp.html#a5f85429028b201fd3ae153c19073e5ac">listenerthread</a>, <span class="keyword">this</span>);
<a name="l00290"></a>00290   <span class="comment">/* NO NO this has to be done by the user RL 17.06.2004</span>
<a name="l00291"></a>00291 <span class="comment">    while(1){</span>
<a name="l00292"></a>00292 <span class="comment">    rlsleep(100);</span>
<a name="l00293"></a>00293 <span class="comment">  }</span>
<a name="l00294"></a>00294 <span class="comment">  */</span>
<a name="l00295"></a>00295 }  
</pre></div></p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a0ba207ed336015b1ec56340aa1ffebce"></a><!-- doxytag: member="rlCanOpenDaemon::daemon_thread" ref="a0ba207ed336015b1ec56340aa1ffebce" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrlThread.html">rlThread</a> <a class="el" href="classrlCanOpenDaemon.html#a0ba207ed336015b1ec56340aa1ffebce">rlCanOpenDaemon::daemon_thread</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classrlThread.html">rlThread</a> object which manages basic thread functionality e.g. locking to prevent threads from concurrently accessing the canopen device </p>

<p>Definition at line <a class="el" href="rlcanopendaemon_8h_source.html#l00081">81</a> of file <a class="el" href="rlcanopendaemon_8h_source.html">rlcanopendaemon.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad32a3078d59a83504a752ced7bf9642c"></a><!-- doxytag: member="rlCanOpenDaemon::nodes" ref="ad32a3078d59a83504a752ced7bf9642c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrlCanOpen.html">rlCanOpen</a>* <a class="el" href="classrlCanOpenDaemon.html#ad32a3078d59a83504a752ced7bf9642c">rlCanOpenDaemon::nodes</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>pointer to <a class="el" href="classrlCanOpen.html" title="main class which provides canopen API functions and manages all nodes.">rlCanOpen</a> Object which performs all access to canopen device </p>

<p>Definition at line <a class="el" href="rlcanopendaemon_8h_source.html#l00076">76</a> of file <a class="el" href="rlcanopendaemon_8h_source.html">rlcanopendaemon.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6d0c85ba05b0f0005fc7038a093325f9"></a><!-- doxytag: member="rlCanOpenDaemon::port" ref="a6d0c85ba05b0f0005fc7038a093325f9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classrlCanOpenDaemon.html#a6d0c85ba05b0f0005fc7038a093325f9">rlCanOpenDaemon::port</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rlcanopendaemon_8h_source.html#l00084">84</a> of file <a class="el" href="rlcanopendaemon_8h_source.html">rlcanopendaemon.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="rlcanopendaemon_8h_source.html">rlcanopendaemon.h</a></li>
<li><a class="el" href="rlcanopendaemon_8cpp_source.html">rlcanopendaemon.cpp</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed Oct 28 16:54:36 2009 for rllib by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
