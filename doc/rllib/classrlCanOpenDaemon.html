<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>rllib: rlCanOpenDaemon Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">rllib
   &#160;<span id="projectnumber">1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">rlCanOpenDaemon Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>canopen tcp/ip interface for concurrent device-access of multiple clientprocesses  
 <a href="classrlCanOpenDaemon.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="rlcanopendaemon_8h_source.html">rlcanopendaemon.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for rlCanOpenDaemon:</div>
<div class="dyncontent">
<div class="center"><img src="classrlCanOpenDaemon__coll__graph.png" border="0" usemap="#rlCanOpenDaemon_coll__map" alt="Collaboration graph"/></div>
<map name="rlCanOpenDaemon_coll__map" id="rlCanOpenDaemon_coll__map">
<area shape="rect" id="node2" href="classrlThread.html" title="rlThread" alt="" coords="80,187,149,213"/><area shape="rect" id="node4" href="structTHREAD__PARAM.html" title="THREAD_PARAM" alt="" coords="12,277,145,304"/><area shape="rect" id="node7" href="structWSEMAPHORE.html" title="WSEMAPHORE" alt="" coords="5,96,125,123"/><area shape="rect" id="node9" href="structpthread__attr__t.html" title="pthread_attr_t" alt="" coords="150,96,252,123"/><area shape="rect" id="node11" href="struct____sched__param.html" title="__sched_param" alt="" coords="144,5,259,32"/><area shape="rect" id="node13" href="classrlCanOpen.html" title="main class which provides canopen API functions and manages all nodes." alt="" coords="250,187,333,213"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classrlCanOpenDaemon-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac2778e06f3691ca0d69ec5752a1c4b19"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrlCanOpenDaemon.html#ac2778e06f3691ca0d69ec5752a1c4b19">rlCanOpenDaemon</a> ()</td></tr>
<tr class="memdesc:ac2778e06f3691ca0d69ec5752a1c4b19"><td class="mdescLeft">&#160;</td><td class="mdescRight">empty constructor initializes on port 5000.  <a href="#ac2778e06f3691ca0d69ec5752a1c4b19"></a><br/></td></tr>
<tr class="memitem:afbe38aa1b1594879788682f68c00bac4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrlCanOpenDaemon.html#afbe38aa1b1594879788682f68c00bac4">rlCanOpenDaemon</a> (int _port, char *_iniFileName=0)</td></tr>
<tr class="memdesc:afbe38aa1b1594879788682f68c00bac4"><td class="mdescLeft">&#160;</td><td class="mdescRight">main constructor sets port and inifilename.  <a href="#afbe38aa1b1594879788682f68c00bac4"></a><br/></td></tr>
<tr class="memitem:acf51a4cb7266ce822efdb114433af3b3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrlCanOpenDaemon.html#acf51a4cb7266ce822efdb114433af3b3">~rlCanOpenDaemon</a> ()</td></tr>
<tr class="memitem:a2700fe9d6dbf7950319ef744b391a527"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrlCanOpenDaemon.html#a2700fe9d6dbf7950319ef744b391a527">getPort</a> ()</td></tr>
<tr class="memitem:a57f09b176603b4043f5c28a631e06654"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrlCanOpenDaemon.html#a57f09b176603b4043f5c28a631e06654">start</a> ()</td></tr>
<tr class="memdesc:a57f09b176603b4043f5c28a631e06654"><td class="mdescLeft">&#160;</td><td class="mdescRight">runs service in endless loop  <a href="#a57f09b176603b4043f5c28a631e06654"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ad32a3078d59a83504a752ced7bf9642c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrlCanOpen.html">rlCanOpen</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrlCanOpenDaemon.html#ad32a3078d59a83504a752ced7bf9642c">nodes</a></td></tr>
<tr class="memitem:a0ba207ed336015b1ec56340aa1ffebce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrlThread.html">rlThread</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrlCanOpenDaemon.html#a0ba207ed336015b1ec56340aa1ffebce">daemon_thread</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a6d0c85ba05b0f0005fc7038a093325f9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrlCanOpenDaemon.html#a6d0c85ba05b0f0005fc7038a093325f9">port</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>canopen tcp/ip interface for concurrent device-access of multiple clientprocesses </p>
<p>this is a multi threaded server process, which listens on a tcp port for incomming connections. It runs the only recommended instance of rlcanopen class for beeing the very only process accessing the device. Different processes who concurrently try to access the device will be queued autmaticly by daemonprocess. These processes are inteded to communicate through rlcanopenclient. </p>

<p>Definition at line <a class="el" href="rlcanopendaemon_8h_source.html#l00051">51</a> of file <a class="el" href="rlcanopendaemon_8h_source.html">rlcanopendaemon.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac2778e06f3691ca0d69ec5752a1c4b19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rlCanOpenDaemon::rlCanOpenDaemon </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>empty constructor initializes on port 5000. </p>
<p>empty constructor initializes on port 5000. creates a new <a class="el" href="classrlCanOpen.html" title="main class which provides canopen API functions and manages all nodes.">rlCanOpen</a> Object which performs all access to canopen device </p>

<p>Definition at line <a class="el" href="rlcanopendaemon_8cpp_source.html#l00253">253</a> of file <a class="el" href="rlcanopendaemon_8cpp_source.html">rlcanopendaemon.cpp</a>.</p>
<div class="fragment"><div class="line">                                {</div>
<div class="line">  <a class="code" href="classrlCanOpenDaemon.html#ad32a3078d59a83504a752ced7bf9642c">nodes</a> = <span class="keyword">new</span> <a class="code" href="classrlCanOpen.html" title="main class which provides canopen API functions and manages all nodes.">rlCanOpen</a>();</div>
<div class="line">  <a class="code" href="classrlCanOpenDaemon.html#a6d0c85ba05b0f0005fc7038a093325f9">port</a> = 5000;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afbe38aa1b1594879788682f68c00bac4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rlCanOpenDaemon::rlCanOpenDaemon </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>_iniFileName</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>main constructor sets port and inifilename. </p>
<p>main constructor sets port and inifilename. creates a new <a class="el" href="classrlCanOpen.html" title="main class which provides canopen API functions and manages all nodes.">rlCanOpen</a> Object which performs all access to canopen device </p>

<p>Definition at line <a class="el" href="rlcanopendaemon_8cpp_source.html#l00259">259</a> of file <a class="el" href="rlcanopendaemon_8cpp_source.html">rlcanopendaemon.cpp</a>.</p>
<div class="fragment"><div class="line">                                                             {</div>
<div class="line">  <span class="keywordflow">if</span> (_iniFileName!=0){</div>
<div class="line">    <a class="code" href="classrlCanOpenDaemon.html#ad32a3078d59a83504a752ced7bf9642c">nodes</a> = <span class="keyword">new</span> <a class="code" href="classrlCanOpen.html" title="main class which provides canopen API functions and manages all nodes.">rlCanOpen</a>(_iniFileName);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span>{</div>
<div class="line">    <a class="code" href="classrlCanOpenDaemon.html#ad32a3078d59a83504a752ced7bf9642c">nodes</a> = <span class="keyword">new</span> <a class="code" href="classrlCanOpen.html" title="main class which provides canopen API functions and manages all nodes.">rlCanOpen</a>();</div>
<div class="line">  }</div>
<div class="line">  <a class="code" href="classrlCanOpenDaemon.html#a6d0c85ba05b0f0005fc7038a093325f9">port</a> = _port;</div>
<div class="line">  </div>
<div class="line">        </div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acf51a4cb7266ce822efdb114433af3b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rlCanOpenDaemon::~rlCanOpenDaemon </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>destructor destroys rlcanopen object </p>

<p>Definition at line <a class="el" href="rlcanopendaemon_8cpp_source.html#l00272">272</a> of file <a class="el" href="rlcanopendaemon_8cpp_source.html">rlcanopendaemon.cpp</a>.</p>
<div class="fragment"><div class="line">                                 {</div>
<div class="line">  <a class="code" href="rlcutil_8cpp.html#a5380bd2e87ffcf0c8a24c387b0ac7b7b">rlDebugPrintf</a>(<span class="stringliteral">&quot;destruktor rlCanOpenDaemon\n&quot;</span>);</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="classrlCanOpenDaemon.html#ad32a3078d59a83504a752ced7bf9642c">nodes</a>!=0){</div>
<div class="line">    <span class="keyword">delete</span> <a class="code" href="classrlCanOpenDaemon.html#ad32a3078d59a83504a752ced7bf9642c">nodes</a>;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a2700fe9d6dbf7950319ef744b391a527"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rlCanOpenDaemon::getPort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>returns value of current port </p>

<p>Definition at line <a class="el" href="rlcanopendaemon_8cpp_source.html#l00280">280</a> of file <a class="el" href="rlcanopendaemon_8cpp_source.html">rlcanopendaemon.cpp</a>.</p>
<div class="fragment"><div class="line">                            {</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="classrlCanOpenDaemon.html#a6d0c85ba05b0f0005fc7038a093325f9">port</a>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a57f09b176603b4043f5c28a631e06654"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rlCanOpenDaemon::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>runs service in endless loop </p>
<p>daemon creates a listener thread which handels incoming connections by himself creating clientconnection threads for each client connecting to the daemon. </p>

<p>Definition at line <a class="el" href="rlcanopendaemon_8cpp_source.html#l00288">288</a> of file <a class="el" href="rlcanopendaemon_8cpp_source.html">rlcanopendaemon.cpp</a>.</p>
<div class="fragment"><div class="line">                           {</div>
<div class="line">  <a class="code" href="classrlCanOpenDaemon.html#a0ba207ed336015b1ec56340aa1ffebce">daemon_thread</a>.<a class="code" href="classrlThread.html#a2e26bec1d1bc3bc35a3c8a1c9930f2fb">create</a>(<a class="code" href="rlcanopendaemon_8cpp.html#a5f85429028b201fd3ae153c19073e5ac">listenerthread</a>, <span class="keyword">this</span>);</div>
<div class="line">  <span class="comment">/* NO NO this has to be done by the user RL 17.06.2004</span></div>
<div class="line"><span class="comment">    while(1){</span></div>
<div class="line"><span class="comment">    rlsleep(100);</span></div>
<div class="line"><span class="comment">  }</span></div>
<div class="line"><span class="comment">  */</span></div>
<div class="line">}  </div>
</div><!-- fragment -->
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a0ba207ed336015b1ec56340aa1ffebce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrlThread.html">rlThread</a> rlCanOpenDaemon::daemon_thread</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="classrlThread.html">rlThread</a> object which manages basic thread functionality e.g. locking to prevent threads from concurrently accessing the canopen device </p>

<p>Definition at line <a class="el" href="rlcanopendaemon_8h_source.html#l00081">81</a> of file <a class="el" href="rlcanopendaemon_8h_source.html">rlcanopendaemon.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad32a3078d59a83504a752ced7bf9642c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrlCanOpen.html">rlCanOpen</a>* rlCanOpenDaemon::nodes</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>pointer to <a class="el" href="classrlCanOpen.html" title="main class which provides canopen API functions and manages all nodes.">rlCanOpen</a> Object which performs all access to canopen device </p>

<p>Definition at line <a class="el" href="rlcanopendaemon_8h_source.html#l00076">76</a> of file <a class="el" href="rlcanopendaemon_8h_source.html">rlcanopendaemon.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6d0c85ba05b0f0005fc7038a093325f9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rlCanOpenDaemon::port</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="rlcanopendaemon_8h_source.html#l00084">84</a> of file <a class="el" href="rlcanopendaemon_8h_source.html">rlcanopendaemon.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="rlcanopendaemon_8h_source.html">rlcanopendaemon.h</a></li>
<li><a class="el" href="rlcanopendaemon_8cpp_source.html">rlcanopendaemon.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1
</small></address>
</body>
</html>
